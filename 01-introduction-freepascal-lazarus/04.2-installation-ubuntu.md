üîù Retour au [Sommaire](/SOMMAIRE.md)

# 1.4.2 Installation sur Ubuntu (apt, snap, compilation source)

## Introduction : Ubuntu et le d√©veloppement libre

### Pourquoi Ubuntu pour FreePascal/Lazarus ?

Ubuntu repr√©sente le choix naturel pour le d√©veloppement avec des outils libres :
- **Philosophie commune** : Logiciel libre et accessible √† tous
- **Int√©gration native** : Lazarus fait partie de l'√©cosyst√®me Linux
- **Performance optimale** : Pas de couche d'√©mulation ou de virtualisation
- **Outils de d√©veloppement** : GCC, Make, Git pr√©install√©s ou facilement disponibles
- **Communaut√©** : Support excellent pour les d√©veloppeurs

### L'√©cosyst√®me Ubuntu

Ubuntu offre plusieurs avantages uniques :
- **Gestionnaires de paquets multiples** : APT, Snap, Flatpak
- **Versions LTS** : Support long terme (5 ans)
- **D√©riv√©es** : Kubuntu, Xubuntu, Lubuntu selon vos pr√©f√©rences
- **PPA** : D√©p√¥ts personnels pour versions r√©centes
- **Compilation facile** : Tous les outils n√©cessaires disponibles

### Les trois m√©thodes d'installation

Sur Ubuntu, vous avez trois approches principales :

1. **APT** : Le gestionnaire de paquets traditionnel
2. **Snap** : Le syst√®me de paquets universel moderne
3. **Compilation source** : Pour un contr√¥le total

Chaque m√©thode a ses avantages selon votre niveau et vos besoins.

## Pr√©requis et pr√©paration

### V√©rification de votre syst√®me

Avant de commencer, v√©rifions votre environnement Ubuntu :

```bash
# Version d'Ubuntu
lsb_release -a

# Architecture syst√®me (64 bits recommand√©)
uname -m

# Espace disque disponible
df -h

# M√©moire disponible
free -h
```

### Versions Ubuntu support√©es

| Version Ubuntu | Nom de code | Support Lazarus | Recommandation |
|---------------|-------------|-----------------|----------------|
| 24.04 LTS | Noble Numbat | ‚úÖ Excellent | ‚≠ê Recommand√© |
| 22.04 LTS | Jammy Jellyfish | ‚úÖ Excellent | ‚≠ê Recommand√© |
| 20.04 LTS | Focal Fossa | ‚úÖ Tr√®s bon | Stable |
| 23.10 | Mantic Minotaur | ‚úÖ Bon | R√©cent |
| 18.04 LTS | Bionic Beaver | ‚ö†Ô∏è Limit√© | Version ancienne |

### Mise √† jour du syst√®me

Avant toute installation, mettez √† jour votre syst√®me :

```bash
# Mise √† jour de la liste des paquets
sudo apt update

# Mise √† jour des paquets install√©s
sudo apt upgrade

# Mise √† jour compl√®te (noyau inclus)
sudo apt full-upgrade

# Nettoyage
sudo apt autoremove  
sudo apt autoclean
```

### Installation des d√©pendances de base

Certains outils sont n√©cessaires quelle que soit la m√©thode :

```bash
# Outils de compilation de base
sudo apt install build-essential

# Outils de d√©veloppement
sudo apt install git wget curl

# Biblioth√®ques graphiques (pour l'IDE)
sudo apt install libgtk2.0-dev libcairo2-dev libpango1.0-dev  
sudo apt install libgdk-pixbuf2.0-dev libatk1.0-dev

# Pour Qt (optionnel)
sudo apt install libqt5pas-dev
```

## M√©thode 1 : Installation via APT

### Comprendre APT

**APT** (Advanced Package Tool) est le gestionnaire de paquets standard d'Ubuntu :
- **Avantages** : Int√©gration syst√®me, gestion des d√©pendances, mises √† jour automatiques
- **Inconv√©nients** : Versions parfois anciennes, moins de flexibilit√©
- **Pour qui** : D√©butants, utilisateurs standards, installations syst√®me

### Installation simple depuis les d√©p√¥ts Ubuntu

#### √âtape 1 : V√©rifier les versions disponibles

```bash
# Voir quelle version est disponible
apt-cache policy lazarus

# Voir les d√©tails du paquet
apt-cache show lazarus

# Rechercher les paquets Lazarus
apt-cache search lazarus
```

#### √âtape 2 : Installation basique

```bash
# Installation de Lazarus avec toutes les d√©pendances
sudo apt install lazarus

# Cela installe automatiquement :
# - lazarus-ide : L'IDE
# - fpc : Le compilateur FreePascal
# - fpc-source : Les sources de FPC
# - lcl : La Lazarus Component Library
```

#### √âtape 3 : V√©rification de l'installation

```bash
# V√©rifier les versions install√©es
lazarus-ide --version  
fpc -version

# Localiser les fichiers install√©s
which lazarus-ide  
which fpc

# Voir l'espace utilis√©
dpkg -L lazarus | head -20
```

### Installation avec les paquets s√©par√©s

Pour plus de contr√¥le, installez les composants s√©par√©ment :

```bash
# Compilateur FreePascal
sudo apt install fpc

# Sources de FPC (n√©cessaire pour le d√©bogage)
sudo apt install fpc-source

# IDE Lazarus
sudo apt install lazarus-ide-2.2  # Remplacez par la version disponible

# Outils additionnels
sudo apt install fp-utils fp-docs
```

### Utilisation des PPA pour versions r√©centes

Les d√©p√¥ts Ubuntu officiels contiennent souvent des versions anciennes. Les **PPA** (Personal Package Archives) offrent des versions plus r√©centes.

#### Ajouter un PPA Lazarus

```bash
# PPA de l'√©quipe Lazarus (exemple)
sudo add-apt-repository ppa:lazarus/lazarus

# Mettre √† jour la liste des paquets
sudo apt update

# Installer depuis le PPA
sudo apt install lazarus
```

#### Gestion des PPA

```bash
# Lister les PPA install√©s
apt-cache policy | grep lazarus

# Supprimer un PPA
sudo add-apt-repository --remove ppa:lazarus/lazarus

# Purger les paquets d'un PPA
sudo ppa-purge ppa:lazarus/lazarus
```

### Configuration post-installation APT

#### Permissions et groupes

```bash
# Ajouter votre utilisateur au groupe dialout (pour acc√®s ports s√©rie)
sudo usermod -a -G dialout $USER

# Pour le d√©veloppement avec GPIO (Raspberry Pi)
sudo usermod -a -G gpio $USER

# Appliquer les changements (d√©connexion/reconnexion ou)
newgrp dialout
```

#### Configuration des chemins

Les chemins par d√©faut avec APT :
```
/usr/bin/              # Ex√©cutables (fpc, lazarus-ide)
/usr/lib/fpc/          # Biblioth√®ques FPC
/usr/share/fpcsrc/     # Sources FPC
/usr/lib/lazarus/      # Fichiers Lazarus
~/.lazarus/            # Configuration utilisateur
```

#### Premier lancement depuis APT

```bash
# Lancer Lazarus
lazarus-ide &

# Ou depuis le menu Applications
# D√©veloppement ‚Üí Lazarus
```

### Mise √† jour et maintenance avec APT

#### Mise √† jour r√©guli√®re

```bash
# Mettre √† jour Lazarus uniquement
sudo apt update && sudo apt upgrade lazarus

# Voir les mises √† jour disponibles
apt list --upgradable | grep -E "lazarus|fpc"

# Maintenir une version sp√©cifique
sudo apt-mark hold lazarus  
sudo apt-mark hold fpc

# D√©bloquer les mises √† jour
sudo apt-mark unhold lazarus
```

#### D√©sinstallation propre

```bash
# Supprimer Lazarus et ses d√©pendances
sudo apt remove lazarus  
sudo apt autoremove

# Suppression compl√®te (config incluse)
sudo apt purge lazarus  
sudo apt autoremove --purge

# Nettoyer la configuration utilisateur
rm -rf ~/.lazarus
```

## M√©thode 2 : Installation via Snap

### Comprendre Snap

**Snap** est le syst√®me de paquets universel de Canonical :
- **Avantages** : Applications isol√©es, versions r√©centes, rollback facile
- **Inconv√©nients** : Plus gros, d√©marrage plus lent, certaines limitations
- **Pour qui** : Utilisateurs voulant les derni√®res versions, tests

### Qu'est-ce qu'un Snap ?

Un Snap est une application empaquet√©e avec toutes ses d√©pendances :
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Snap Package        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Application (Lazarus)      ‚îÇ
‚îÇ  + Toutes les biblioth√®ques ‚îÇ
‚îÇ  + Configuration            ‚îÇ
‚îÇ  + Runtime                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚Üì
    Isolation (Sandboxing)
           ‚Üì
    Syst√®me Ubuntu h√¥te
```

### Installation de Snap (si n√©cessaire)

Ubuntu moderne inclut Snap par d√©faut, mais v√©rifiez :

```bash
# V√©rifier si snapd est install√©
snap version

# Si non install√©
sudo apt update  
sudo apt install snapd

# Red√©marrer le service
sudo systemctl restart snapd
```

### Installation de Lazarus via Snap

#### Recherche et information

```bash
# Rechercher Lazarus dans le store Snap
snap search lazarus

# Informations d√©taill√©es
snap info lazarus

# Voir les versions disponibles
snap info lazarus | grep -E "channels:|stable:|candidate:|beta:|edge:"
```

#### Installation

```bash
# Installation depuis le canal stable
sudo snap install lazarus --classic

# Ou installation d'une version sp√©cifique
sudo snap install lazarus --channel=edge --classic

# Note : --classic est n√©cessaire car Lazarus a besoin
# d'acc√®s complet au syst√®me pour compiler
```

#### V√©rification

```bash
# Lister les snaps install√©s
snap list | grep lazarus

# Voir les d√©tails
snap info lazarus --verbose

# Localisation
which lazarus
# G√©n√©ralement : /snap/bin/lazarus
```

### Configuration des Snaps

#### Permissions et interfaces

```bash
# Voir les interfaces connect√©es
snap connections lazarus

# Connecter des interfaces si n√©cessaire
sudo snap connect lazarus:removable-media  
sudo snap connect lazarus:home
```

#### Alias et raccourcis

```bash
# Cr√©er un alias plus court
sudo snap alias lazarus laz

# Utilisation
laz --version

# Supprimer l'alias
sudo snap unalias laz
```

### Gestion des versions Snap

#### Mise √† jour

```bash
# Mise √† jour manuelle
sudo snap refresh lazarus

# Voir les mises √† jour disponibles
snap refresh --list

# Mise √† jour automatique (par d√©faut)
snap refresh --time
```

#### Revenir √† une version pr√©c√©dente

```bash
# Voir les r√©visions install√©es
snap list lazarus --all

# Revenir √† une r√©vision pr√©c√©dente
sudo snap revert lazarus

# Ou sp√©cifier une r√©vision
sudo snap revert lazarus --revision=120
```

#### Changer de canal

```bash
# Passer au canal edge (d√©veloppement)
sudo snap refresh lazarus --channel=edge

# Revenir au stable
sudo snap refresh lazarus --channel=stable
```

### Avantages et limitations des Snaps

#### Avantages
- ‚úÖ Derni√®res versions disponibles
- ‚úÖ Rollback facile
- ‚úÖ Pas de conflits de d√©pendances
- ‚úÖ Mises √† jour automatiques
- ‚úÖ Plusieurs versions possibles

#### Limitations
- ‚ùå Taille importante (inclut toutes les d√©pendances)
- ‚ùå D√©marrage plus lent (montage du squashfs)
- ‚ùå Acc√®s fichiers limit√© (sandbox)
- ‚ùå Th√®mes syst√®me parfois non respect√©s
- ‚ùå Int√©gration syst√®me limit√©e

## M√©thode 3 : Compilation depuis les sources

### Pourquoi compiler depuis les sources ?

La compilation source offre :
- **Contr√¥le total** : Choisir les options exactes
- **Derni√®res fonctionnalit√©s** : Acc√®s au code trunk/development
- **Optimisations** : Adapter √† votre processeur
- **Apprentissage** : Comprendre le processus de build
- **Contribution** : Pouvoir modifier et contribuer

### Pr√©paration pour la compilation

#### Installation des outils de d√©veloppement

```bash
# Compilateur C et outils
sudo apt install build-essential

# Subversion et Git (pour r√©cup√©rer les sources)
sudo apt install subversion git

# Biblioth√®ques de d√©veloppement GTK2
sudo apt install libgtk2.0-dev libcairo2-dev  
sudo apt install libpango1.0-dev libgdk-pixbuf2.0-dev

# Outils additionnels
sudo apt install gdb make binutils

# Pour la documentation
sudo apt install fpdoc
```

#### Cr√©ation de la structure de r√©pertoires

```bash
# Cr√©er un r√©pertoire de travail
mkdir -p ~/Development/FreePascal  
cd ~/Development/FreePascal

# Structure recommand√©e
mkdir -p {fpc,lazarus,projects}
```

### Compilation de FreePascal (FPC)

#### √âtape 1 : Obtenir FPC de d√©marrage

Pour compiler FPC, vous avez besoin d'un FPC existant :

```bash
# M√©thode 1 : Installer FPC depuis APT (bootstrap)
sudo apt install fpc

# M√©thode 2 : T√©l√©charger un binaire de d√©marrage
cd ~/Development/FreePascal  
wget https://sourceforge.net/projects/freepascal/files/Linux/3.2.2/fpc-3.2.2.x86_64-linux.tar  
tar -xf fpc-3.2.2.x86_64-linux.tar  
cd fpc-3.2.2.x86_64-linux
./install.sh  # Installer dans ~/fpc-bootstrap
```

#### √âtape 2 : Obtenir les sources FPC

```bash
cd ~/Development/FreePascal/fpc

# M√©thode 1 : SVN (recommand√© pour d√©veloppement)
svn checkout https://svn.freepascal.org/svn/fpc/trunk fpc-trunk

# M√©thode 2 : Git (miroir)
git clone https://gitlab.com/freepascal.org/fpc/source.git fpc-git

# M√©thode 3 : Archive stable
wget https://sourceforge.net/projects/freepascal/files/Source/3.2.2/fpc-3.2.2.source.tar.gz  
tar -xzf fpc-3.2.2.source.tar.gz
```

#### √âtape 3 : Compiler FPC

```bash
cd ~/Development/FreePascal/fpc/fpc-trunk

# Nettoyer les anciennes compilations
make clean

# Compiler FPC
make all FPC=/usr/bin/fpc

# Cela prend 5-15 minutes selon votre machine
```

#### √âtape 4 : Installer FPC compil√©

```bash
# Installation dans /usr/local (n√©cessite sudo)
sudo make install PREFIX=/usr/local

# Ou installation locale (sans sudo)
make install PREFIX=$HOME/fpc-local

# Ajouter au PATH si installation locale
echo 'export PATH=$HOME/fpc-local/bin:$PATH' >> ~/.bashrc  
source ~/.bashrc

# V√©rifier
fpc -version
```

### Compilation de Lazarus

#### √âtape 1 : Obtenir les sources Lazarus

```bash
cd ~/Development/FreePascal/lazarus

# M√©thode 1 : SVN (trunk/d√©veloppement)
svn checkout https://svn.freepascal.org/svn/lazarus/trunk lazarus-trunk

# M√©thode 2 : Git
git clone https://gitlab.com/freepascal.org/lazarus/lazarus.git lazarus-git

# M√©thode 3 : Archive stable
wget https://sourceforge.net/projects/lazarus/files/Lazarus%20Linux%20amd64/Lazarus%203.0/lazarus-3.0.0-src.tar.gz  
tar -xzf lazarus-3.0.0-src.tar.gz
```

#### √âtape 2 : Compiler Lazarus

```bash
cd lazarus-trunk  # ou votre r√©pertoire source

# Nettoyer
make clean

# Compiler l'IDE
make all

# Pour utiliser un FPC sp√©cifique
make all FPC=$HOME/fpc-local/bin/fpc

# Pour optimisations maximales
make all OPT="-O3 -CX -XX"
```

#### √âtape 3 : Configuration initiale

```bash
# Lancer Lazarus compil√©
./lazarus &

# Au premier lancement, configurez :
# - Chemin FPC : /usr/local/bin/fpc ou $HOME/fpc-local/bin/fpc
# - Sources FPC : ~/Development/FreePascal/fpc/fpc-trunk
# - R√©pertoire Lazarus : ~/Development/FreePascal/lazarus/lazarus-trunk
```

### Script d'automatisation de compilation

Cr√©ez `build-lazarus.sh` :

```bash
#!/bin/bash

# Configuration
FPC_VERSION="trunk"  
LAZARUS_VERSION="trunk"  
BASE_DIR="$HOME/Development/FreePascal"  
JOBS=$(nproc)  # Nombre de processeurs

# Couleurs
RED='\033[0;31m'  
GREEN='\033[0;32m'  
YELLOW='\033[1;33m'  
NC='\033[0m' # No Color

echo -e "${GREEN}=== Build FreePascal/Lazarus ===${NC}"  
echo "Base directory: $BASE_DIR"  
echo "Using $JOBS parallel jobs"

# Fonction de gestion d'erreur
check_error() {
    if [ $? -ne 0 ]; then
        echo -e "${RED}Erreur: $1${NC}"
        exit 1
    fi
}

# Mise √† jour FPC
echo -e "${YELLOW}Mise √† jour des sources FPC...${NC}"  
cd "$BASE_DIR/fpc/fpc-$FPC_VERSION"  
svn update  
check_error "Mise √† jour FPC √©chou√©e"

# Compilation FPC
echo -e "${YELLOW}Compilation de FPC...${NC}"  
make clean  
make all -j$JOBS FPC=/usr/bin/fpc  
check_error "Compilation FPC √©chou√©e"

# Installation FPC
echo -e "${YELLOW}Installation de FPC...${NC}"  
make install PREFIX="$HOME/fpc-local"  
check_error "Installation FPC √©chou√©e"

# Mise √† jour Lazarus
echo -e "${YELLOW}Mise √† jour des sources Lazarus...${NC}"  
cd "$BASE_DIR/lazarus/lazarus-$LAZARUS_VERSION"  
svn update  
check_error "Mise √† jour Lazarus √©chou√©e"

# Compilation Lazarus
echo -e "${YELLOW}Compilation de Lazarus...${NC}"  
make clean  
make all -j$JOBS FPC="$HOME/fpc-local/bin/fpc"  
check_error "Compilation Lazarus √©chou√©e"

echo -e "${GREEN}=== Build termin√© avec succ√®s ===${NC}"  
echo "Lancer Lazarus avec: $BASE_DIR/lazarus/lazarus-$LAZARUS_VERSION/lazarus"
```

### Options de compilation avanc√©es

#### Optimisations du compilateur

```bash
# Compilation optimis√©e pour votre CPU
make all OPT="-O3 -CX -XX -Xs -march=native"

# Debug build
make all OPT="-g -gl -O-"

# Cross-compilation (ex: pour ARM)
make all CPU_TARGET=arm OS_TARGET=linux
```

#### Compilation avec diff√©rents widgetsets

```bash
# GTK2 (par d√©faut)
make all LCL_PLATFORM=gtk2

# GTK3
make all LCL_PLATFORM=gtk3

# Qt5
make all LCL_PLATFORM=qt5

# Custom Drawn (exp√©rimental)
make all LCL_PLATFORM=customdrawn
```

## Configuration et optimisation

### Configuration de l'environnement

#### Variables d'environnement

Ajoutez √† `~/.bashrc` ou `~/.profile` :

```bash
# FreePascal/Lazarus paths
export FPC_DIR="$HOME/Development/FreePascal/fpc/fpc-trunk"  
export LAZARUS_DIR="$HOME/Development/FreePascal/lazarus/lazarus-trunk"  
export PATH="$HOME/fpc-local/bin:$PATH"

# Alias utiles
alias laz='$LAZARUS_DIR/lazarus'  
alias lazbuild='$LAZARUS_DIR/lazbuild'  
alias fpc='$HOME/fpc-local/bin/fpc'

# Options par d√©faut
export FPC_OPTIONS="-O3 -CX -XX"
```

#### Cr√©ation de lanceurs desktop

Cr√©ez `~/.local/share/applications/lazarus-custom.desktop` :

```ini
[Desktop Entry]
Name=Lazarus IDE (Custom Build)  
Comment=Lazarus IDE compil√© depuis les sources  
Exec=/home/user/Development/FreePascal/lazarus/lazarus-trunk/lazarus %f  
Icon=/home/user/Development/FreePascal/lazarus/lazarus-trunk/images/ide_icon48x48.png  
Terminal=false  
Type=Application  
Categories=Development;IDE;  
MimeType=text/x-pascal;
```

### Int√©gration syst√®me

#### Associations de fichiers

```bash
# Associer les fichiers Pascal √† Lazarus
xdg-mime default lazarus.desktop text/x-pascal  
xdg-mime default lazarus.desktop application/x-lazarus-project

# V√©rifier
xdg-mime query default text/x-pascal
```

#### Int√©gration avec le terminal

```bash
# Ouvrir des fichiers depuis le terminal
echo 'alias edit-pas="$LAZARUS_DIR/lazarus"' >> ~/.bashrc

# Compiler depuis le terminal
echo 'function fpc-compile() {
    $HOME/fpc-local/bin/fpc -Fu$LAZARUS_DIR/lcl/units/x86_64-linux $@
}' >> ~/.bashrc
```

### R√©solution des probl√®mes courants

#### Probl√®me : "Cannot find unit interfaces"

```bash
# Recompiler la LCL
cd $LAZARUS_DIR  
make clean all

# V√©rifier les chemins dans l'IDE
# Outils ‚Üí Options ‚Üí Environnement ‚Üí Fichiers
```

#### Probl√®me : "Error while linking"

```bash
# Installer les biblioth√®ques de d√©veloppement manquantes
sudo apt install libx11-dev libxext-dev libxrender-dev  
sudo apt install libxinerama-dev libxi-dev libxrandr-dev  
sudo apt install libxcursor-dev libxcomposite-dev libdamage-dev  
sudo apt install libxfixes-dev libxss-dev
```

#### Probl√®me : Th√®me GTK non respect√©

```bash
# Pour GTK2
sudo apt install gtk2-engines-murrine gtk2-engines-pixbuf

# Configuration
echo 'export GTK2_RC_FILES="$HOME/.gtkrc-2.0"' >> ~/.bashrc
```

### Performance et optimisation

#### Optimisation de la compilation

```bash
# Utiliser ccache pour acc√©l√©rer les recompilations
sudo apt install ccache

# Configurer
export PATH="/usr/lib/ccache:$PATH"

# Utiliser tmpfs pour compilation plus rapide
sudo mkdir /tmp/ramdisk  
sudo mount -t tmpfs -o size=2G tmpfs /tmp/ramdisk  
export TEMP=/tmp/ramdisk
```

#### Configuration IDE pour meilleures performances

Dans Lazarus : **Outils ‚Üí Options**

```
Environnement ‚Üí Fichiers
‚îú‚îÄ‚îÄ R√©pertoire de compilation : /tmp/lazarus-compile
‚îî‚îÄ‚îÄ R√©pertoire de test : /tmp/lazarus-test

Environnement ‚Üí Sauvegarde
‚îú‚îÄ‚îÄ Maximum de fichiers backup : 3
‚îî‚îÄ‚îÄ Autre fichiers : backup/

√âditeur ‚Üí G√©n√©ral
‚îú‚îÄ‚îÄ D√©sactiver le pliage de code si lent
‚îî‚îÄ‚îÄ Limiter l'undo √† 1000 actions
```

## Comparaison des m√©thodes

### Tableau r√©capitulatif

| Crit√®re | APT | Snap | Source |
|---------|-----|------|--------|
| **Difficult√©** | Facile | Facile | Difficile |
| **Version** | Ancienne/Stable | R√©cente | Derni√®re |
| **Flexibilit√©** | Limit√©e | Moyenne | Totale |
| **Espace disque** | ~500 MB | ~1.5 GB | ~2 GB |
| **Temps installation** | 2 min | 5 min | 30-60 min |
| **Mises √† jour** | Automatique | Automatique | Manuelle |
| **Isolation** | Non | Oui | Non |
| **Performance** | Optimale | Bonne | Optimale+ |
| **Personnalisation** | Non | Non | Totale |

### Recommandations par profil

#### D√©butant Ubuntu
**‚Üí APT**
- Installation simple
- Int√©gration syst√®me parfaite
- Documentation abondante

#### D√©veloppeur voulant les derni√®res versions
**‚Üí Snap**
- Versions r√©centes
- Rollback facile
- Pas de conflits

#### D√©veloppeur avanc√©/Contributeur
**‚Üí Source**
- Contr√¥le total
- Derni√®res fonctionnalit√©s
- Possibilit√© de contribuer

#### Serveur de build/CI
**‚Üí Source ou APT**
- Reproductibilit√©
- Optimisations sp√©cifiques
- Scriptable

## Scripts utiles

### Script de mise √† jour universelle

Cr√©ez `update-lazarus.sh` :

```bash
#!/bin/bash

# D√©tecte la m√©thode d'installation et met √† jour

if command -v snap &> /dev/null && snap list | grep -q lazarus; then
    echo "Mise √† jour via Snap..."
    sudo snap refresh lazarus
elif dpkg -l | grep -q lazarus; then
    echo "Mise √† jour via APT..."
    sudo apt update && sudo apt upgrade lazarus fpc
elif [ -d "$HOME/Development/FreePascal/lazarus" ]; then
    echo "Mise √† jour depuis les sources..."
    cd "$HOME/Development/FreePascal/lazarus/lazarus-trunk"
    svn update
    make clean all
else
    echo "Installation Lazarus non trouv√©e!"
fi
```

### Script de diagnostic

Cr√©ez `diagnose-lazarus.sh` :

```bash
#!/bin/bash

echo "=== Diagnostic Lazarus/FPC ==="  
echo

echo "Syst√®me :"  
lsb_release -a  
uname -m  
echo

echo "Versions install√©es :"  
echo -n "FPC : "  
fpc -version 2>/dev/null | head -1 || echo "Non trouv√©"  
echo -n "Lazarus : "  
lazarus-ide --version 2>/dev/null | head -1 || echo "Non trouv√©"  
echo

echo "M√©thode d'installation :"  
if snap list 2>/dev/null | grep -q lazarus; then
    echo "- Snap d√©tect√©"
    snap info lazarus | grep installed
fi  
if dpkg -l 2>/dev/null | grep -q lazarus; then
    echo "- APT d√©tect√©"
    dpkg -l | grep lazarus
fi  
if [ -d "$HOME/Development/FreePascal" ]; then
    echo "- Installation source possible dans ~/Development/FreePascal"
fi  
echo

echo "Chemins :"  
echo "FPC : $(which fpc 2>/dev/null || echo 'Non dans PATH')"  
echo "Lazarus : $(which lazarus-ide 2>/dev/null || echo 'Non dans PATH')"  
echo

echo "Biblioth√®ques GTK :"  
pkg-config --modversion gtk+-2.0 2>/dev/null || echo "GTK2 non trouv√©"  
pkg-config --modversion gtk+-3.0 2>/dev/null || echo "GTK3 non trouv√©"
```

## Conclusion

### R√©capitulatif

Vous ma√Ætrisez maintenant trois m√©thodes d'installation sur Ubuntu :

1. **APT** : Simple et int√©gr√©, parfait pour d√©buter
2. **Snap** : Moderne et isol√©, id√©al pour tester
3. **Source** : Contr√¥le total, pour les experts

### Prochaines √©tapes

Apr√®s l'installation :
1. Configurer l'IDE selon vos pr√©f√©rences
2. Installer les packages additionnels n√©cessaires
3. Cr√©er votre premier projet Linux
4. Explorer les sp√©cificit√©s Linux (signaux, daemons, etc.)

### Ressources Ubuntu sp√©cifiques

- **Documentation** : Wiki Ubuntu Lazarus
- **Forums** : Ubuntu Forums section Development
- **Communaut√©** : Ask Ubuntu pour questions
- **PPA** : Launchpad pour derni√®res versions

La ma√Ætrise de l'installation sur Ubuntu vous ouvre la porte au d√©veloppement d'applications vraiment multi-plateformes, exploitant le meilleur des deux mondes : Windows et Linux.

‚è≠Ô∏è [Installation sur macOS et BSD](/01-introduction-freepascal-lazarus/04.3-installation-macos-bsd.md)
