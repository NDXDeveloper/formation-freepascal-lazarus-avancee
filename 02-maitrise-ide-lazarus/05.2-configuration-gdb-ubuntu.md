ğŸ” Retour au [Sommaire](/SOMMAIRE.md)

# 2.5.2 Configuration GDB sur Ubuntu

## Introduction : L'avantage Linux

Bonne nouvelle ! Configurer GDB sur Ubuntu est beaucoup plus simple que sur Windows. GDB est natif sur Linux, il fait partie de l'Ã©cosystÃ¨me GNU depuis le dÃ©but. Ubuntu, comme toutes les distributions Linux, est conÃ§u pour le dÃ©veloppement, et GDB s'y intÃ¨gre naturellement.

**Pourquoi c'est plus simple sur Ubuntu ?**
- ğŸ§ GDB est natif sur Linux
- ğŸ“¦ Installation en une commande via APT
- ğŸ”§ Pas de problÃ¨mes de chemins ou d'antivirus
- ğŸš€ Performance optimale
- ğŸ“ Configuration minimale requise

## VÃ©rifier la prÃ©sence de GDB

### VÃ©rification rapide

Ouvrez un terminal (`Ctrl+Alt+T`) et tapez :

```bash
gdb --version
```

**RÃ©sultat attendu :**
```
GNU gdb (Ubuntu 12.1-0ubuntu1~22.04) 12.1  
Copyright (C) 2022 Free Software Foundation, Inc.  
License GPLv3+: GNU GPL version 3 or later  
This is free software: you are free to change and redistribute it.
```

Si GDB est absent, vous verrez :
```
Command 'gdb' not found, but can be installed with:  
sudo apt install gdb
```

### Localisation de GDB

Pour connaÃ®tre l'emplacement exact :

```bash
which gdb
# RÃ©sultat typique : /usr/bin/gdb

# Pour plus de dÃ©tails
whereis gdb
# RÃ©sultat : gdb: /usr/bin/gdb /usr/share/man/man1/gdb.1.gz
```

## Installation de GDB

### Installation standard

Si GDB n'est pas installÃ© :

```bash
# Mettre Ã  jour les paquets
sudo apt update

# Installer GDB
sudo apt install gdb

# VÃ©rifier l'installation
gdb --version
```

### Installation complÃ¨te pour le dÃ©veloppement

Pour une configuration optimale avec tous les outils :

```bash
# Package de dÃ©veloppement complet
sudo apt install build-essential gdb valgrind strace ltrace

# Explication des outils :
# build-essential : gcc, g++, make, etc.
# gdb : Le dÃ©bogueur
# valgrind : DÃ©tection fuites mÃ©moire
# strace : Trace des appels systÃ¨me
# ltrace : Trace des appels de bibliothÃ¨ques
```

### Installation pour Lazarus/FreePascal

Configuration spÃ©cifique pour le dÃ©veloppement Pascal :

```bash
# GDB et outils Pascal
sudo apt install gdb fp-compiler lazarus

# BibliothÃ¨ques de dÃ©bogage supplÃ©mentaires
sudo apt install libc6-dbg libgtk-3-0-dbg

# Pour le dÃ©veloppement 32-bit sur systÃ¨me 64-bit
sudo apt install gcc-multilib g++-multilib gdb-multiarch
```

## Configuration systÃ¨me pour GDB

### Permissions et sÃ©curitÃ©

#### ProblÃ¨me ptrace_scope

Ubuntu moderne restreint ptrace pour la sÃ©curitÃ©. Cela peut empÃªcher GDB d'attacher des processus.

**VÃ©rifier le statut :**
```bash
cat /proc/sys/kernel/yama/ptrace_scope
# 0 = Pas de restriction (classique)
# 1 = Restreint (dÃ©faut Ubuntu)
# 2 = Admin seulement
# 3 = DÃ©sactivÃ©
```

**Solution temporaire (jusqu'au redÃ©marrage) :**
```bash
echo 0 | sudo tee /proc/sys/kernel/yama/ptrace_scope
```

**Solution permanente :**
```bash
# Ã‰diter le fichier de configuration
sudo nano /etc/sysctl.d/10-ptrace.conf

# Changer la ligne :
kernel.yama.ptrace_scope = 1
# En :
kernel.yama.ptrace_scope = 0

# Appliquer les changements
sudo sysctl -p /etc/sysctl.d/10-ptrace.conf
```

### Configuration des core dumps

Les core dumps sont utiles pour dÃ©boguer les crashes :

```bash
# VÃ©rifier la limite actuelle
ulimit -c
# 0 = Pas de core dump

# Activer les core dumps
ulimit -c unlimited

# Pour rendre permanent (ajouter Ã  ~/.bashrc)
echo "ulimit -c unlimited" >> ~/.bashrc

# Configurer l'emplacement des core dumps
sudo nano /etc/sysctl.conf
# Ajouter :
kernel.core_pattern = /tmp/core-%e-%p-%t

# Appliquer
sudo sysctl -p
```

## Configuration dans Lazarus

### DÃ©tection automatique

Lazarus dÃ©tecte gÃ©nÃ©ralement GDB automatiquement sur Ubuntu. VÃ©rifiez dans :

**Menu : Outils â†’ Options â†’ DÃ©bogueur**

```
â”Œâ”€ Options du DÃ©bogueur â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Type de dÃ©bogueur : [GNU debugger (gdb)    â–¼] â”‚
â”‚                                                 â”‚
â”‚ Chemin vers gdb:                               â”‚
â”‚ [/usr/bin/gdb                              ]   â”‚
â”‚ [Parcourir...]                                 â”‚
â”‚                                                 â”‚
â”‚ âœ“ DÃ©bogueur dÃ©tectÃ© et fonctionnel            â”‚
â”‚                                                 â”‚
â”‚ Version dÃ©tectÃ©e : GNU gdb 12.1               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Configuration de base

#### Onglet "GÃ©nÃ©ral"

```
Options gÃ©nÃ©rales :
â”œâ”€â”€ Timeout de dÃ©marrage : [15] secondes
â”œâ”€â”€ â˜‘ ArrÃªter sur les exceptions
â”œâ”€â”€ â˜‘ RÃ©initialiser aprÃ¨s chaque run
â”œâ”€â”€ â˜ DÃ©sactiver LoadSymbolsForLibraries
â”œâ”€â”€ Working directory : [$(ProjPath)]
â””â”€â”€ Encodage : [UTF-8]
```

**ğŸ’¡ Astuce Ubuntu** : Le timeout peut Ãªtre plus court que sur Windows (15s au lieu de 30s).

#### Onglet "Signals"

Configuration des signaux Unix :

```
Gestion des signaux :
â”œâ”€â”€ SIGSEGV : [ArrÃªter] (Segmentation fault)
â”œâ”€â”€ SIGFPE : [ArrÃªter] (Erreur arithmÃ©tique)
â”œâ”€â”€ SIGILL : [ArrÃªter] (Instruction illÃ©gale)
â”œâ”€â”€ SIGPIPE : [Ignorer] (Pipe brisÃ©)
â”œâ”€â”€ SIGINT : [Passer] (Ctrl+C)
â”œâ”€â”€ SIGUSR1 : [Ignorer] (User signal 1)
â””â”€â”€ SIGUSR2 : [Ignorer] (User signal 2)
```

#### Configuration spÃ©cifique Linux

```
Options Linux :
â”œâ”€â”€ â˜‘ Utiliser tty sÃ©parÃ© pour le programme
â”œâ”€â”€ Terminal : [/usr/bin/gnome-terminal]
â”‚   Alternatives :
â”‚   â”œâ”€â”€ xterm
â”‚   â”œâ”€â”€ konsole (KDE)
â”‚   â””â”€â”€ xfce4-terminal (XFCE)
â”œâ”€â”€ â˜‘ Redirection I/O
â””â”€â”€ â˜ Disable ASLR (Address Space Layout Randomization)
```

### Terminal pour les applications console

Ubuntu nÃ©cessite un terminal pour les applications console :

#### Configurer le terminal par dÃ©faut

```bash
# VÃ©rifier les terminaux installÃ©s
ls /usr/bin/*terminal*

# Installer si nÃ©cessaire
sudo apt install gnome-terminal  # GNOME (dÃ©faut Ubuntu)
# ou
sudo apt install konsole         # KDE
# ou
sudo apt install xfce4-terminal  # XFCE
# ou
sudo apt install xterm          # Minimaliste
```

#### Configuration dans Lazarus

**Projet â†’ Options â†’ Options de compilation â†’ Config et Cible :**

```
ExÃ©cution du dÃ©bogueur :
â”œâ”€â”€ â˜‘ Utiliser un terminal de lancement
â”œâ”€â”€ Application terminal : [gnome-terminal]
â””â”€â”€ ParamÃ¨tres : [--disable-factory -t $(title) -e]
```

## Configuration avancÃ©e

### Symboles de dÃ©bogage systÃ¨me

Pour dÃ©boguer dans les bibliothÃ¨ques systÃ¨me :

```bash
# Installer les symboles de dÃ©bogage
sudo apt install libc6-dbg

# Pour GTK (applications graphiques)
sudo apt install libgtk-3-0-dbg libglib2.0-0-dbg

# Pour Qt
sudo apt install libqt5core5a-dbgsym

# Activer les dÃ©pÃ´ts de symboles de dÃ©bogage
echo "deb http://ddebs.ubuntu.com $(lsb_release -cs) main restricted universe multiverse" | \
  sudo tee /etc/apt/sources.list.d/ddebs.list

# Importer la clÃ©
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 428D7C01

sudo apt update
```

### Configuration GDB personnalisÃ©e

#### Fichier .gdbinit global

CrÃ©ez ou Ã©ditez `~/.gdbinit` :

```bash
nano ~/.gdbinit
```

Contenu recommandÃ© :
```gdb
# Configuration GDB pour Lazarus/FreePascal
set print pretty on  
set print array on  
set print array-indexes on  
set print demangle on  
set print asm-demangle on  
set print object on  
set print static-members on  
set print vtbl on

# Historique
set history save on  
set history size 10000  
set history filename ~/.gdb_history

# SÃ©curitÃ©
set auto-load safe-path /

# Pagination
set pagination off

# Encodage
set charset UTF-8

# Directories sources
directory ~/projects

# Alias utiles
define cls
  shell clear
end

# Afficher string Pascal
define pstr
  print (char*)($arg0+1)@byte[$arg0[0]]
end
```

#### Fichier .gdbinit par projet

Dans le dossier de votre projet :

```gdb
# .gdbinit local au projet
set environment LD_LIBRARY_PATH ./lib:$LD_LIBRARY_PATH  
set substitute-path /build/source /home/user/projects/source

# Points d'arrÃªt automatiques
break main  
break EAccessViolation

# Commandes au dÃ©marrage
define hookpost-run
  echo Programme dÃ©marrÃ©\n
end
```

**âš ï¸ SÃ©curitÃ©** : GDB demande confirmation pour les .gdbinit locaux :
```bash
# Pour autoriser automatiquement
echo "set auto-load safe-path /" >> ~/.gdbinit
```

### DÃ©bogage multi-thread

Configuration pour applications multi-thread :

```
Options Lazarus :
â”œâ”€â”€ DÃ©bogueur â†’ Threads
â”‚   â”œâ”€â”€ â˜‘ Afficher la fenÃªtre threads
â”‚   â””â”€â”€ â˜‘ Surveiller tous les threads
```

Configuration GDB pour threads :
```gdb
# Dans .gdbinit
set scheduler-locking step  
set non-stop on  
set target-async on  
set print thread-events on
```

### DÃ©bogage Ã  distance

Pour dÃ©boguer sur une autre machine ou embarquÃ© :

#### Sur la machine cible

```bash
# Installer gdbserver
sudo apt install gdbserver

# Lancer gdbserver
gdbserver :2345 ./mon_programme
# ou attacher Ã  un processus existant
gdbserver :2345 --attach $(pidof mon_programme)
```

#### Dans Lazarus (machine de dÃ©veloppement)

```
DÃ©bogueur â†’ Options â†’ Remote
â”œâ”€â”€ â˜‘ Remote debugging
â”œâ”€â”€ Host : [192.168.1.100]
â”œâ”€â”€ Port : [2345]
â””â”€â”€ Remote path mappings : [/home/remote -> /home/local]
```

## Outils complÃ©mentaires Ubuntu

### Valgrind - DÃ©tection de fuites mÃ©moire

Installation et utilisation :

```bash
# Installation
sudo apt install valgrind

# Utilisation basique
valgrind ./mon_programme

# Avec toutes les vÃ©rifications
valgrind --leak-check=full --show-leak-kinds=all \
         --track-origins=yes --verbose \
         ./mon_programme
```

IntÃ©gration dans Lazarus :
```
ExÃ©cuter â†’ ParamÃ¨tres d'exÃ©cution
â”œâ”€â”€ Utiliser un dÃ©bogueur : [Valgrind]
â””â”€â”€ ParamÃ¨tres : [--leak-check=full]
```

### DDD - Interface graphique pour GDB

```bash
# Installation
sudo apt install ddd

# Lancer avec votre programme
ddd ./mon_programme

# Ou attacher Ã  Lazarus
ddd --debugger /usr/bin/gdb
```

### GDBtui - Interface texte amÃ©liorÃ©e

GDB inclut une interface TUI (Text User Interface) :

```bash
# Lancer GDB en mode TUI
gdb -tui ./mon_programme

# Ou activer/dÃ©sactiver dans GDB
(gdb) tui enable
(gdb) tui disable

# Raccourcis TUI
Ctrl+X A : Activer/DÃ©sactiver TUI  
Ctrl+X 2 : Diviser l'Ã©cran  
Ctrl+X O : Changer de fenÃªtre active
```

### SystemTap - DÃ©bogage systÃ¨me avancÃ©

Pour le dÃ©bogage systÃ¨me profond :

```bash
# Installation
sudo apt install systemtap systemtap-sdt-dev

# Exemple de script
sudo stap -e 'probe process("mon_programme").function("*") {
  println(probefunc())
}'
```

## Optimisation des performances

### Configuration pour gros projets

#### Limites systÃ¨me

```bash
# VÃ©rifier les limites actuelles
ulimit -a

# Augmenter les limites dans /etc/security/limits.conf
sudo nano /etc/security/limits.conf

# Ajouter :
* soft nofile 65536
* hard nofile 65536
* soft nproc 32768
* hard nproc 32768
```

#### Cache de symboles GDB

```bash
# CrÃ©er un cache de symboles
mkdir -p ~/.cache/gdb

# Dans ~/.gdbinit
set index-cache on  
set index-cache directory ~/.cache/gdb
```

### PrÃ©compilation des symboles

Pour accÃ©lÃ©rer le chargement :

```bash
# GÃ©nÃ©rer l'index des symboles
gdb-add-index ./mon_programme

# VÃ©rifier
readelf -S ./mon_programme | grep gdb_index
```

## DÃ©bogage de problÃ¨mes spÃ©cifiques Linux

### Segmentation Fault

Configuration pour capturer les segfaults :

```bash
# Activer les core dumps
ulimit -c unlimited

# Lancer le programme
./mon_programme

# Si crash, analyser le core
gdb ./mon_programme core

# Dans GDB
(gdb) bt full        # Backtrace complÃ¨te
(gdb) info registers # Ã‰tat des registres
(gdb) info frame     # Frame actuelle
```

### ProblÃ¨mes de permissions

```bash
# DÃ©boguer avec sudo (attention!)
sudo gdb ./mon_programme

# Ou mieux, ajouter l'utilisateur au groupe
sudo usermod -a -G dialout $USER  # Pour ports sÃ©rie  
sudo usermod -a -G gpio $USER     # Pour GPIO (Raspberry)
# DÃ©connexion/reconnexion requise
```

### BibliothÃ¨ques manquantes

```bash
# VÃ©rifier les dÃ©pendances
ldd ./mon_programme

# Trouver les bibliothÃ¨ques manquantes
ldd ./mon_programme | grep "not found"

# DÃ©finir le chemin des bibliothÃ¨ques
export LD_LIBRARY_PATH=/chemin/vers/libs:$LD_LIBRARY_PATH

# Ou dans Lazarus
Projet â†’ Options â†’ Chemins
â””â”€â”€ BibliothÃ¨ques : -Fl/chemin/vers/libs
```

## Scripts d'automatisation

### Script de dÃ©bogage

CrÃ©ez `debug.sh` :

```bash
#!/bin/bash

# Configuration
PROJECT_NAME="MonProjet"  
BUILD_MODE="Debug"  
GDB_COMMANDS="gdb_commands.txt"

# Couleurs pour l'affichage
RED='\033[0;31m'  
GREEN='\033[0;32m'  
NC='\033[0m' # No Color

echo -e "${GREEN}=== Compilation en mode Debug ===${NC}"

# Compilation avec Lazarus
lazbuild --build-mode=$BUILD_MODE $PROJECT_NAME.lpi

if [ $? -eq 0 ]; then
    echo -e "${GREEN}Compilation rÃ©ussie!${NC}"

    # CrÃ©er les commandes GDB
    cat > $GDB_COMMANDS << EOF
break main  
run  
bt  
continue  
EOF

    # Lancer GDB
    echo -e "${GREEN}Lancement de GDB...${NC}"
    gdb -x $GDB_COMMANDS ./$PROJECT_NAME

    # Nettoyer
    rm -f $GDB_COMMANDS
else
    echo -e "${RED}Erreur de compilation!${NC}"
    exit 1
fi
```

Rendre exÃ©cutable :
```bash
chmod +x debug.sh
./debug.sh
```

### Script de test mÃ©moire

CrÃ©ez `check_memory.sh` :

```bash
#!/bin/bash

PROJECT="$1"

if [ -z "$1" ]; then
    echo "Usage: $0 <programme>"
    exit 1
fi

echo "=== Test de fuites mÃ©moire avec Valgrind ==="  
valgrind --leak-check=full \
         --show-leak-kinds=all \
         --track-origins=yes \
         --log-file=valgrind.log \
         ./$PROJECT

echo "=== RÃ©sumÃ© ==="  
grep "definitely lost\|indirectly lost\|possibly lost" valgrind.log

echo "Rapport complet dans valgrind.log"
```

## Configuration par type de projet

### Application GUI (GTK/Qt)

```bash
# Installer les symboles de dÃ©bogage GUI
sudo apt install libgtk-3-0-dbg libqt5core5a-dbgsym

# Dans Lazarus
Projet â†’ Options
â”œâ”€â”€ DÃ©bogueur
â”‚   â”œâ”€â”€ â˜‘ Utiliser terminal externe : Non
â”‚   â””â”€â”€ â˜‘ Rediriger sortie console
```

### Application console

```bash
# Configuration terminal
Projet â†’ Options
â”œâ”€â”€ DÃ©bogueur
â”‚   â”œâ”€â”€ â˜‘ Utiliser terminal externe : Oui
â”‚   â”œâ”€â”€ Terminal : gnome-terminal
â”‚   â””â”€â”€ Arguments : --wait -e
```

### Service/Daemon

```bash
# Pour dÃ©boguer un service systemd
# 1. ArrÃªter le service
sudo systemctl stop mon-service

# 2. Lancer manuellement avec GDB
sudo gdb /usr/local/bin/mon-service

# 3. Dans GDB
(gdb) set follow-fork-mode child
(gdb) run --debug
```

## IntÃ©gration avec l'IDE

### Raccourcis clavier Ubuntu

Les raccourcis dans Lazarus sous Ubuntu :

| Raccourci | Action | Note |
|-----------|--------|------|
| **F5** | Ajouter/Retirer breakpoint | Standard |
| **F7** | Step into | Entre dans les fonctions |
| **F8** | Step over | Ligne suivante |
| **F9** | Run/Continue | Lancer ou continuer |
| **Ctrl+F2** | Stop | ArrÃªter le dÃ©bogage |
| **Ctrl+F7** | Evaluate/Modify | Ã‰valuer expression |
| **Ctrl+Alt+W** | Watches | FenÃªtre watches |
| **Ctrl+Alt+S** | Call Stack | Pile d'appels |
| **Ctrl+Alt+L** | Local Variables | Variables locales |
| **Ctrl+Alt+B** | Breakpoints | Liste des breakpoints |

### FenÃªtres de dÃ©bogage

Organisation recommandÃ©e pour Ubuntu :

```
# Si vous avez plusieurs moniteurs
Monitor 1 : Ã‰diteur de code  
Monitor 2 : FenÃªtres de dÃ©bogage

# Sur un seul moniteur (1920x1080)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Ã‰diteur de code         â”‚   Variables  â”‚
â”‚         (60%)               â”‚   Watches    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     (40%)    â”‚
â”‚  Terminal / Console Output  â”‚              â”‚
â”‚         (20%)               â”‚  Call Stack  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## RÃ©solution de problÃ¨mes courants

### GDB trÃ¨s lent au dÃ©marrage

**Causes possibles :**
1. Trop de symboles de dÃ©bogage
2. BibliothÃ¨ques systÃ¨me avec symboles

**Solutions :**
```bash
# DÃ©sactiver le chargement automatique des symboles
echo "set auto-solib-add off" >> ~/.gdbinit

# Ou charger sÃ©lectivement
(gdb) sharedlibrary libc
```

### "No debugging symbols found"

**Solution :**
```bash
# VÃ©rifier la compilation
file ./mon_programme
# Doit montrer : "not stripped"

# Si stripped, recompiler avec
lazbuild --build-mode=Debug projet.lpi

# VÃ©rifier les flags
grep -r "\-g" projet.lpi
```

### Impossible d'attacher au processus

**Erreur :** "ptrace: Operation not permitted"

**Solutions :**
```bash
# Solution 1 : DÃ©sactiver ptrace_scope
echo 0 | sudo tee /proc/sys/kernel/yama/ptrace_scope

# Solution 2 : Utiliser sudo
sudo gdb -p $(pidof mon_programme)

# Solution 3 : Capabilities
sudo setcap cap_sys_ptrace+ep /usr/bin/gdb
```

### Terminal qui ne s'ouvre pas

**VÃ©rifier :**
```bash
# Le terminal est installÃ©
which gnome-terminal

# Les permissions
ls -l /usr/bin/gnome-terminal

# Tester manuellement
gnome-terminal -e "echo test"
```

## Checklist de validation

Avant de dÃ©boguer, vÃ©rifiez :

```
â˜ GDB est installÃ© (gdb --version)
â˜ Version >= 8.0 recommandÃ©e
â˜ ptrace_scope configurÃ© si nÃ©cessaire
â˜ Symboles de debug activÃ©s dans le projet (-g)
â˜ Mode de build = Debug
â˜ Terminal configurÃ© pour apps console
â˜ Permissions suffisantes
â˜ Core dumps activÃ©s si nÃ©cessaire
â˜ .gdbinit configurÃ©
â˜ Limites systÃ¨me adÃ©quates (ulimit)
```

## Test final de configuration

### Programme de test complet

```pascal
program TestGDBUbuntu;
{$mode objfpc}{$H+}

uses
  {$IFDEF UNIX}
  cthreads,
  {$ENDIF}
  Classes, SysUtils;

type
  TTestThread = class(TThread)
  protected
    procedure Execute; override;
  end;

procedure TTestThread.Execute;  
var
  i: Integer;
begin
  for i := 1 to 5 do
  begin
    WriteLn('Thread: ', i);
    Sleep(1000);
  end;
end;

var
  Thread: TTestThread;
  List: TStringList;
  i: Integer;

begin
  WriteLn('Test GDB Ubuntu - DÃ©but');

  // Test basique
  for i := 1 to 3 do
    WriteLn('Iteration: ', i);  // Breakpoint ici

  // Test thread
  Thread := TTestThread.Create(False);
  Thread.WaitFor;
  Thread.Free;

  // Test objets
  List := TStringList.Create;
  try
    List.Add('Test');
    WriteLn('Count: ', List.Count);
  finally
    List.Free;
  end;

  WriteLn('Test terminÃ© - Appuyez sur EntrÃ©e');
  ReadLn;
end.
```

Si vous pouvez :
- âœ… Mettre un breakpoint et l'atteindre
- âœ… Voir les variables locales
- âœ… Suivre l'exÃ©cution du thread
- âœ… Inspecter l'objet List

â†’ **FÃ©licitations !** Votre configuration GDB sur Ubuntu est parfaite ! ğŸ‰

## Conclusion

GDB sur Ubuntu offre une expÃ©rience de dÃ©bogage native et puissante. La configuration est gÃ©nÃ©ralement simple, et les outils complÃ©mentaires Linux (Valgrind, strace, etc.) enrichissent considÃ©rablement les possibilitÃ©s de dÃ©bogage.

**Points clÃ©s Ã  retenir :**
- ğŸ“¦ Installation simple via APT
- ğŸ”§ Configuration minimale requise
- ğŸš€ Performance native optimale
- ğŸ› ï¸ Outils complÃ©mentaires puissants
- ğŸ“ Scripts bash pour automatisation
- ğŸ”’ Attention aux restrictions de sÃ©curitÃ© (ptrace_scope)

L'avantage d'Ubuntu est l'intÃ©gration naturelle de GDB dans l'Ã©cosystÃ¨me Linux, permettant un dÃ©bogage efficace avec peu de configuration. Les dÃ©veloppeurs peuvent se concentrer sur leur code plutÃ´t que sur la configuration de l'environnement.

Dans la section suivante (2.5.3), nous explorerons les alternatives Ã  GDB comme FpDebug et LLDB, qui offrent des approches diffÃ©rentes et parfois plus modernes du dÃ©bogage.

â­ï¸ [Alternatives (LLDB, FpDebug)](/02-maitrise-ide-lazarus/05.3-alternatives-lldb-fpdebug.md)
