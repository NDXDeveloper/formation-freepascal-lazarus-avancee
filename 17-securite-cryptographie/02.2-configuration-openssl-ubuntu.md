üîù Retour au [Sommaire](/SOMMAIRE.md)

# 17.2.2 Configuration OpenSSL Ubuntu

## Introduction

Contrairement √† Windows, Ubuntu (et la plupart des distributions Linux) fournit OpenSSL pr√©-install√© et configur√© par d√©faut. Cela simplifie grandement l'utilisation d'OpenSSL dans vos applications FreePascal/Lazarus sous Ubuntu.

Dans cette section, nous allons voir comment v√©rifier, configurer et utiliser OpenSSL sur Ubuntu, ainsi que les sp√©cificit√©s du syst√®me Linux.

## V√©rification de l'installation OpenSSL

### OpenSSL est-il d√©j√† install√© ?

Sur Ubuntu, OpenSSL est g√©n√©ralement d√©j√† pr√©sent. Pour le v√©rifier, ouvrez un terminal et tapez :

```bash
openssl version
```

Vous devriez voir quelque chose comme :
```
OpenSSL 3.0.2 15 Mar 2022 (Library: OpenSSL 3.0.2 15 Mar 2022)
```

Ou pour une version plus ancienne d'Ubuntu :
```
OpenSSL 1.1.1f  31 Mar 2020
```

### V√©rifier les biblioth√®ques partag√©es

Les applications FreePascal utilisent les biblioth√®ques partag√©es OpenSSL. Pour v√©rifier leur pr√©sence :

```bash
# Localiser libssl
ldconfig -p | grep libssl

# Localiser libcrypto
ldconfig -p | grep libcrypto
```

Vous devriez voir des lignes comme :
```
libssl.so.3 (libc6,x86-64) => /lib/x86_64-linux-gnu/libssl.so.3  
libcrypto.so.3 (libc6,x86-64) => /lib/x86_64-linux-gnu/libcrypto.so.3
```

## Installation d'OpenSSL sur Ubuntu

### Si OpenSSL n'est pas install√©

Bien que rare, si OpenSSL n'est pas install√© :

```bash
# Mettre √† jour la liste des paquets
sudo apt update

# Installer OpenSSL
sudo apt install openssl libssl3
```

### Versions d'OpenSSL selon Ubuntu

| Version Ubuntu | Version OpenSSL par d√©faut |
|----------------|----------------------------|
| Ubuntu 18.04 LTS | OpenSSL 1.1.1 |
| Ubuntu 20.04 LTS | OpenSSL 1.1.1 |
| Ubuntu 22.04 LTS | OpenSSL 3.0.2 |
| Ubuntu 24.04 LTS | OpenSSL 3.0.13+ |

### Installer les fichiers de d√©veloppement

Pour compiler des applications qui utilisent OpenSSL (si vous compilez des biblioth√®ques natives) :

```bash
sudo apt install libssl-dev
```

Cela installe :
- Les fichiers d'en-t√™te (`/usr/include/openssl/*.h`)
- Les biblioth√®ques statiques (`.a`)
- Les fichiers de configuration

**Note** : Pour FreePascal, vous n'avez g√©n√©ralement **pas** besoin de `libssl-dev`, sauf si vous compilez des extensions natives.

## Structure des fichiers OpenSSL sur Ubuntu

### Emplacements des fichiers

```
/usr/bin/
‚îú‚îÄ‚îÄ openssl                    # Outil en ligne de commande

/usr/lib/x86_64-linux-gnu/     # Biblioth√®ques (architecture x86_64)
‚îú‚îÄ‚îÄ libssl.so.3                # Lien symbolique
‚îú‚îÄ‚îÄ libssl.so.3.0.2            # Biblioth√®que SSL/TLS
‚îú‚îÄ‚îÄ libcrypto.so.3             # Lien symbolique
‚îî‚îÄ‚îÄ libcrypto.so.3.0.2         # Biblioth√®que cryptographique

/etc/ssl/
‚îú‚îÄ‚îÄ openssl.cnf                # Configuration principale
‚îú‚îÄ‚îÄ certs/                     # Certificats CA de confiance
‚îÇ   ‚îú‚îÄ‚îÄ ca-certificates.crt    # Bundle de tous les CA
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ private/                   # Pour stocker vos cl√©s priv√©es
    ‚îî‚îÄ‚îÄ (permissions restrictives 700)

/usr/share/ca-certificates/    # Certificats CA sources
‚îî‚îÄ‚îÄ mozilla/                   # Certificats Mozilla
```

### Liens symboliques

Ubuntu utilise des liens symboliques pour la compatibilit√© :

```bash
ls -la /usr/lib/x86_64-linux-gnu/libssl.so*
```

R√©sultat :
```
libssl.so.3 -> libssl.so.3.0.2  
libssl.so.3.0.2
```

Cela permet aux applications de charger `libssl.so.3` qui pointe vers la version install√©e.

## Certificats de confiance (CA Bundle)

### Configuration automatique

Ubuntu maintient automatiquement un bundle de certificats CA de confiance :

**Fichier principal** : `/etc/ssl/certs/ca-certificates.crt`

Ce fichier contient tous les certificats CA approuv√©s par Mozilla et est mis √† jour automatiquement.

### V√©rifier les certificats install√©s

```bash
# Compter le nombre de certificats
grep -c "BEGIN CERTIFICATE" /etc/ssl/certs/ca-certificates.crt

# Afficher la liste des certificats
awk -v cmd='openssl x509 -noout -subject' \
    '/BEGIN/{close(cmd)};{print | cmd}' \
    < /etc/ssl/certs/ca-certificates.crt
```

### Ajouter un certificat CA personnalis√©

Si vous devez ajouter un certificat CA (par exemple, pour une CA d'entreprise) :

1. **Copiez le certificat** (format PEM) :
   ```bash
   sudo cp mon-ca.crt /usr/local/share/ca-certificates/
   ```

2. **Mettez √† jour le bundle** :
   ```bash
   sudo update-ca-certificates
   ```

3. **V√©rification** :
   ```bash
   grep -q "Mon CA" /etc/ssl/certs/ca-certificates.crt && echo "CA ajout√©e"
   ```

### Retirer un certificat CA

```bash
# Supprimer le fichier
sudo rm /usr/local/share/ca-certificates/mon-ca.crt

# Mettre √† jour
sudo update-ca-certificates --fresh
```

## Utilisation d'OpenSSL avec FreePascal/Lazarus

### Noms des biblioth√®ques sur Ubuntu

Les biblioth√®ques OpenSSL sur Ubuntu suivent la convention de nommage Linux :

**OpenSSL 3.x** :
- `libssl.so.3`
- `libcrypto.so.3`

**OpenSSL 1.1.x** :
- `libssl.so.1.1`
- `libcrypto.so.1.1`

### Chargement automatique avec Synapse

Synapse d√©tecte automatiquement la version d'OpenSSL :

```pascal
program HTTPSExample;

{$mode objfpc}{$H+}

uses
  SysUtils, httpsend, ssl_openssl;

function GetHTTPS(const URL: string): string;  
var
  HTTP: THTTPSend;
begin
  HTTP := THTTPSend.Create;
  try
    // Sur Ubuntu, les certificats CA sont automatiquement configur√©s
    if HTTP.HTTPMethod('GET', URL) then
    begin
      HTTP.Document.Position := 0;
      SetLength(Result, HTTP.Document.Size);
      HTTP.Document.Read(Result[1], HTTP.Document.Size);
      WriteLn('Connexion r√©ussie!');
    end
    else
      Result := 'Erreur HTTP: ' + IntToStr(HTTP.ResultCode);
  finally
    HTTP.Free;
  end;
end;

begin
  try
    WriteLn('Version OpenSSL: ', SSLImplementation);
    WriteLn('Biblioth√®que SSL: ', DLLSSLName);
    WriteLn('');
    WriteLn('Connexion √† https://www.google.com...');

    GetHTTPS('https://www.google.com');
  except
    on E: Exception do
      WriteLn('Erreur: ', E.Message);
  end;
  ReadLn;
end.
```

### Compilation et ex√©cution

```bash
# Compilation
fpc -MDelphi HTTPSExample.pas

# Ex√©cution
./HTTPSExample
```

**Sortie attendue** :
```
Version OpenSSL: OpenSSL 3.0.2  
Biblioth√®que SSL: libssl.so.3  
Connexion √† https://www.google.com...  
Connexion r√©ussie!
```

### Configuration du chemin des certificats CA

Par d√©faut, Synapse utilise le bundle syst√®me. Si vous devez sp√©cifier un chemin personnalis√© :

```pascal
uses
  httpsend, ssl_openssl;

var
  HTTP: THTTPSend;
begin
  HTTP := THTTPSend.Create;
  try
    // Utiliser le bundle syst√®me (d√©faut)
    HTTP.Sock.SSL.CertCAFile := '/etc/ssl/certs/ca-certificates.crt';

    // Ou un r√©pertoire de certificats
    // HTTP.Sock.SSL.CertCAPath := '/etc/ssl/certs/';

    HTTP.HTTPMethod('GET', 'https://www.example.com');
  finally
    HTTP.Free;
  end;
end.
```

## G√©n√©ration de certificats pour le d√©veloppement

### Cr√©er un certificat auto-sign√©

Pour vos tests en d√©veloppement :

```bash
# Se placer dans votre projet
cd ~/MonProjet

# G√©n√©rer une cl√© priv√©e RSA de 2048 bits
openssl genrsa -out server.key 2048

# G√©n√©rer un certificat auto-sign√© valide 365 jours
openssl req -new -x509 -key server.key -out server.crt -days 365 \
  -subj "/C=FR/ST=Normandie/L=Rouen/O=Ma Compagnie/CN=localhost"
```

### G√©n√©rer un certificat avec SAN (Subject Alternative Names)

Pour supporter plusieurs domaines, cr√©ez un fichier de configuration :

**Fichier `cert.conf`** :
```bash
cat > cert.conf << 'EOF'
[req]
default_bits = 2048  
prompt = no  
default_md = sha256  
distinguished_name = dn  
req_extensions = v3_req

[dn]
C=FR  
ST=Normandie  
L=Rouen  
O=Ma Compagnie  
CN=localhost

[v3_req]
subjectAltName = @alt_names

[alt_names]
DNS.1 = localhost  
DNS.2 = *.local.dev  
DNS.3 = dev.local  
IP.1 = 127.0.0.1  
IP.2 = ::1  
EOF
```

**G√©n√©ration** :
```bash
openssl req -new -x509 -nodes -days 365 \
  -keyout server.key -out server.crt \
  -config cert.conf -extensions v3_req
```

### Prot√©ger la cl√© priv√©e

```bash
# D√©finir les permissions appropri√©es
chmod 600 server.key

# V√©rifier les permissions
ls -l server.key
# Devrait afficher : -rw------- (seul le propri√©taire peut lire/√©crire)
```

### V√©rifier le certificat g√©n√©r√©

```bash
# Afficher le contenu du certificat
openssl x509 -in server.crt -text -noout

# V√©rifier les Subject Alternative Names
openssl x509 -in server.crt -text -noout | grep -A1 "Subject Alternative Name"

# V√©rifier les dates de validit√©
openssl x509 -in server.crt -noout -dates
```

## Configuration du fichier openssl.cnf

### Emplacement

Le fichier de configuration principal est : `/etc/ssl/openssl.cnf`

### Voir la configuration actuelle

```bash
# Afficher la configuration
less /etc/ssl/openssl.cnf

# V√©rifier quelle configuration OpenSSL utilise
openssl version -d
# Sortie : OPENSSLDIR: "/usr/lib/ssl"
```

### Personnaliser la configuration

Pour votre projet sp√©cifique, cr√©ez une configuration locale :

```bash
# Copier la configuration syst√®me
cp /etc/ssl/openssl.cnf ~/MonProjet/openssl-custom.cnf

# √âditer
nano ~/MonProjet/openssl-custom.cnf
```

**Modifications courantes** :

```ini
# Forcer TLS 1.2 minimum
[system_default_sect]
MinProtocol = TLSv1.2  
MaxProtocol = TLSv1.3

# Cipher suites s√©curis√©es
CipherString = ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384
```

### Utiliser une configuration personnalis√©e

```bash
# Variable d'environnement
export OPENSSL_CONF=~/MonProjet/openssl-custom.cnf

# V√©rifier
openssl version -a | grep OPENSSLDIR
```

Dans FreePascal :

```pascal
uses
  SysUtils;

begin
  // D√©finir la configuration OpenSSL personnalis√©e
  SetEnvironmentVariable('OPENSSL_CONF',
    GetEnvironmentVariable('HOME') + '/MonProjet/openssl-custom.cnf');

  // Votre code utilisant OpenSSL
end.
```

## Permissions et s√©curit√© sous Linux

### Permissions des fichiers de cl√©s priv√©es

**Important** : Les cl√©s priv√©es doivent √™tre prot√©g√©es !

```bash
# CORRECT : Seul le propri√©taire peut lire
chmod 600 server.key  
ls -l server.key
# -rw------- 1 user user 1679 Jan 15 10:00 server.key

# INCORRECT : Tout le monde peut lire
chmod 644 server.key  # ‚ùå NE JAMAIS FAIRE !
```

### Ex√©cution avec utilisateur non-privil√©gi√©

Vos applications SSL/TLS n'ont g√©n√©ralement **pas besoin** de droits root.

**Exception** : Utiliser le port 443 (HTTPS) n√©cessite des privil√®ges :

```bash
# Option 1 : Utiliser un port non-privil√©gi√© (>1024)
./MonServeur --port 8443

# Option 2 : Donner la capacit√© de bind sur port privil√©gi√©
sudo setcap 'cap_net_bind_service=+ep' ./MonServeur
./MonServeur --port 443  # Fonctionne sans root !

# Option 3 : Utiliser un reverse proxy (nginx, Apache)
# Votre app √©coute sur 8080, nginx redirige depuis 443
```

### R√©pertoire /etc/ssl/private

Ce r√©pertoire est r√©serv√© aux cl√©s priv√©es syst√®me :

```bash
ls -ld /etc/ssl/private/
# drwx--x--- 2 root ssl-cert 4096 Jan 15 10:00 /etc/ssl/private/
```

**Pour vos applications** :
- Stockez les cl√©s dans votre r√©pertoire utilisateur
- Ou cr√©ez un r√©pertoire d√©di√© avec permissions appropri√©es

```bash
# Cr√©er un r√©pertoire s√©curis√©
mkdir -p ~/.ssl/private  
chmod 700 ~/.ssl/private

# Stocker votre cl√©
mv server.key ~/.ssl/private/  
chmod 600 ~/.ssl/private/server.key
```

## D√©bogage et diagnostic

### V√©rifier les biblioth√®ques charg√©es

Pour voir quelles biblioth√®ques votre application charge :

```bash
# Compiler votre application
fpc MonApp.pas

# Voir les d√©pendances
ldd ./MonApp | grep ssl
# libssl.so.3 => /lib/x86_64-linux-gnu/libssl.so.3
```

### Tracer le chargement des biblioth√®ques

```bash
# Activer le debug du loader
LD_DEBUG=libs ./MonApp 2>&1 | grep ssl

# Voir tous les appels syst√®me
strace -e open,openat ./MonApp 2>&1 | grep ssl
```

### Tester une connexion SSL

```bash
# Connexion basique
openssl s_client -connect www.google.com:443

# Afficher les certificats
openssl s_client -connect www.google.com:443 -showcerts

# Tester avec un protocole sp√©cifique
openssl s_client -connect www.example.com:443 -tls1_2

# V√©rifier un serveur local
openssl s_client -connect localhost:8443 -CAfile server.crt
```

### Analyser le trafic SSL

```bash
# Installer Wireshark (si pas d√©j√† fait)
sudo apt install wireshark

# Lancer avec sudo pour capturer
sudo wireshark

# Ou utiliser tcpdump
sudo tcpdump -i any -w capture.pcap port 443
```

### Erreurs courantes et solutions

#### Erreur : "error while loading shared libraries"

```bash
./MonApp: error while loading shared libraries: libssl.so.3:
cannot open shared object file: No such file or directory
```

**Solution** :
```bash
# V√©rifier l'installation
sudo apt install libssl3

# Mettre √† jour le cache des biblioth√®ques
sudo ldconfig

# V√©rifier le chemin
ldconfig -p | grep libssl
```

#### Erreur : "certificate verify failed"

**Causes possibles** :
1. Certificat auto-sign√©
2. CA non reconnue
3. Certificat expir√©
4. Nom de domaine incorrect

**Solutions** :
```bash
# V√©rifier le certificat
openssl s_client -connect example.com:443 -CAfile /etc/ssl/certs/ca-certificates.crt

# Pour d√©veloppement uniquement : d√©sactiver la v√©rification
# (dans le code FreePascal)
{$IFDEF DEBUG}
  HTTP.Sock.SSL.VerifyCert := False;  // UNIQUEMENT EN DEV !
{$ENDIF}
```

#### Erreur : "Permission denied" sur /etc/ssl/private

```bash
# Ne stockez PAS vos cl√©s l√†-dedans
# Utilisez plut√¥t :
mkdir -p ~/.ssl/private  
chmod 700 ~/.ssl/private
```

## Let's Encrypt sur Ubuntu

### Installation de Certbot

Pour obtenir des certificats SSL gratuits et valides :

```bash
# Installer Certbot
sudo apt install certbot

# Pour nginx
sudo apt install python3-certbot-nginx

# Pour Apache
sudo apt install python3-certbot-apache
```

### Obtenir un certificat

**Mode standalone** (arr√™te temporairement le serveur web) :
```bash
sudo certbot certonly --standalone -d www.example.com -d example.com
```

**Avec nginx** :
```bash
sudo certbot --nginx -d www.example.com
```

### Emplacements des certificats

Les certificats Let's Encrypt sont stock√©s dans :
```
/etc/letsencrypt/live/www.example.com/
‚îú‚îÄ‚îÄ cert.pem           # Certificat du serveur
‚îú‚îÄ‚îÄ chain.pem          # Cha√Æne de certificats interm√©diaires
‚îú‚îÄ‚îÄ fullchain.pem      # cert.pem + chain.pem
‚îî‚îÄ‚îÄ privkey.pem        # Cl√© priv√©e
```

### Utiliser les certificats dans votre application

```pascal
uses
  ssl_openssl, blcksock;

var
  Socket: TTCPBlockSocket;
begin
  Socket := TTCPBlockSocket.Create;
  try
    Socket.SSL.CertificateFile := '/etc/letsencrypt/live/www.example.com/fullchain.pem';
    Socket.SSL.PrivateKeyFile := '/etc/letsencrypt/live/www.example.com/privkey.pem';

    Socket.Bind('0.0.0.0', '443');
    Socket.Listen;
    // ... votre serveur
  finally
    Socket.Free;
  end;
end.
```

**Note** : Votre application devra s'ex√©cuter avec les permissions appropri√©es pour lire ces fichiers.

### Renouvellement automatique

Certbot configure automatiquement le renouvellement :

```bash
# Tester le renouvellement
sudo certbot renew --dry-run

# Le cron est d√©j√† configur√© dans :
cat /etc/cron.d/certbot
```

## Optimisation et performance

### Activer la compression TLS

Dans votre configuration OpenSSL personnalis√©e :

```ini
[system_default_sect]
# Activer la compression (attention √† CRIME attack)
# Options = Compression  # G√©n√©ralement d√©sactiv√© par s√©curit√©
```

### Utiliser les cipher suites avec support mat√©riel

```pascal
// Privil√©gier AES-NI (acc√©l√©ration mat√©rielle Intel/AMD)
Socket.SSL.CipherList :=
  'ECDHE-RSA-AES128-GCM-SHA256:' +
  'ECDHE-RSA-AES256-GCM-SHA384';
```

### V√©rifier le support AES-NI

```bash
# V√©rifier si votre CPU supporte AES-NI
grep -q aes /proc/cpuinfo && echo "AES-NI support√©" || echo "Pas de support"

# Benchmark OpenSSL
openssl speed aes-128-gcm
```

### Session Resumption

```bash
# Configuration dans openssl.cnf
[ssl_conf]
system_default = ssl_sect

[ssl_sect]
Options = SessionTicket
```

## Surveillance et logs

### Logs syst√®me

Ubuntu enregistre les √©v√©nements SSL/TLS via syslog :

```bash
# Voir les logs r√©cents
sudo journalctl -u votre-service | grep -i ssl

# Logs en temps r√©el
sudo journalctl -f | grep -i ssl
```

### Activer le logging dans votre application

```pascal
uses
  ssl_openssl;

begin
  // Niveau de debug (0-7)
  SSLDebugLevel := 3;  // Messages importants uniquement

  // Votre code SSL
end.
```

### Surveiller les connexions SSL

```bash
# Voir les connexions HTTPS actives
sudo ss -tn state established '( dport = :443 or sport = :443 )'

# Avec netstat
sudo netstat -tnp | grep :443
```

## Distribution de votre application

### Binaires portables

Contrairement √† Windows, vous n'avez **pas besoin** d'inclure les DLLs OpenSSL car :
- OpenSSL est install√© par d√©faut sur Ubuntu
- Les biblioth√®ques sont dans les chemins syst√®me standard

### D√©pendances dans les paquets

Si vous cr√©ez un paquet `.deb` :

**Fichier `control`** :
```
Package: mon-application  
Version: 1.0  
Depends: libssl3 (>= 3.0.0)  
Description: Mon application utilisant SSL
```

### Script d'installation

```bash
#!/bin/bash
# install.sh

echo "Installation de Mon Application..."

# V√©rifier OpenSSL
if ! command -v openssl &> /dev/null; then
    echo "Installation d'OpenSSL..."
    sudo apt update
    sudo apt install -y openssl libssl3
fi

# Copier l'application
sudo cp MonApp /usr/local/bin/  
sudo chmod +x /usr/local/bin/MonApp

echo "Installation termin√©e !"
```

### AppImage

Pour une distribution portable :

```bash
# Cr√©er une AppImage qui inclut toutes les d√©pendances
# (y compris OpenSSL si n√©cessaire pour compatibilit√© avec vieilles distros)
```

## S√©curit√© et bonnes pratiques

### Mises √† jour automatiques

Ubuntu met √† jour OpenSSL via le syst√®me de paquets :

```bash
# Activer les mises √† jour de s√©curit√© automatiques
sudo apt install unattended-upgrades  
sudo dpkg-reconfigure -plow unattended-upgrades
```

### Durcissement de la configuration

**Fichier `/etc/ssl/openssl.cnf`** :
```ini
[system_default_sect]
MinProtocol = TLSv1.2  
CipherString = ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256  
Options = ServerPreference,NoRenegotiation
```

### Audit de s√©curit√©

```bash
# V√©rifier la version d'OpenSSL
openssl version -a

# Lister les vuln√©rabilit√©s connues (n√©cessite vulners)
sudo apt install vulners-scanner  
vulners-scanner scan openssl

# Scanner votre serveur SSL
testssl.sh https://votre-serveur.com
```

### Rotation des cl√©s et certificats

```bash
# Script de rotation automatique
#!/bin/bash
# rotate-certs.sh

CERT_DIR="/home/user/.ssl"  
BACKUP_DIR="/home/user/.ssl/backup"  
DATE=$(date +%Y%m%d)

# Sauvegarder l'ancien certificat
mkdir -p $BACKUP_DIR  
cp $CERT_DIR/server.crt $BACKUP_DIR/server-$DATE.crt  
cp $CERT_DIR/server.key $BACKUP_DIR/server-$DATE.key

# G√©n√©rer nouveau certificat
openssl genrsa -out $CERT_DIR/server.key 2048  
openssl req -new -x509 -key $CERT_DIR/server.key \
  -out $CERT_DIR/server.crt -days 365 \
  -subj "/C=FR/ST=Normandie/L=Rouen/O=MaCompagnie/CN=example.com"

# Red√©marrer le service
sudo systemctl restart mon-service
```

## Outils de diagnostic sp√©cifiques Ubuntu

### OpenSSL s_server pour tests

Cr√©er un serveur HTTPS de test :

```bash
# G√©n√©rer un certificat de test
openssl req -x509 -newkey rsa:2048 -nodes \
  -keyout key.pem -out cert.pem -days 365 \
  -subj "/CN=localhost"

# D√©marrer un serveur de test
openssl s_server -key key.pem -cert cert.pem -accept 8443 -WWW

# Tester depuis un autre terminal
curl -k https://localhost:8443/
```

### ssldump pour analyser le trafic

```bash
# Installer ssldump
sudo apt install ssldump

# Capturer le trafic SSL
sudo ssldump -i any port 443

# Avec la cl√© priv√©e pour d√©chiffrer
sudo ssldump -k server.key -i any port 443
```

### nmap pour scanner SSL/TLS

```bash
# Installer nmap
sudo apt install nmap

# Scanner les protocoles SSL/TLS support√©s
nmap --script ssl-enum-ciphers -p 443 example.com

# V√©rifier les certificats
nmap --script ssl-cert -p 443 example.com
```

## Ressources sp√©cifiques Ubuntu/Linux

### Documentation

- **Ubuntu SSL Documentation** : https://help.ubuntu.com/community/OpenSSL
- **Debian SSL Certificates** : https://wiki.debian.org/SSLCertificates
- **Man pages** : `man openssl`, `man ssl`, `man x509`

### Outils utiles

```bash
# Installation des outils SSL courants
sudo apt install \
  openssl \
  ca-certificates \
  ssl-cert \
  certbot \
  gnutls-bin
```

### Communaut√©s

- **Ask Ubuntu** : https://askubuntu.com/ (tag: openssl, ssl)
- **Ubuntu Forums** : https://ubuntuforums.org/
- **Stack Exchange Unix & Linux** : https://unix.stackexchange.com/

## Conclusion

La configuration d'OpenSSL sur Ubuntu est g√©n√©ralement plus simple que sur Windows car :
- OpenSSL est pr√©-install√© et configur√©
- Les certificats CA sont g√©r√©s automatiquement
- Les biblioth√®ques sont dans les chemins syst√®me
- Les mises √† jour de s√©curit√© sont automatiques

**Points cl√©s √† retenir** :
- OpenSSL est d√©j√† install√© et op√©rationnel sur Ubuntu
- Les certificats CA sont dans `/etc/ssl/certs/ca-certificates.crt`
- Les biblioth√®ques sont `libssl.so.3` et `libcrypto.so.3`
- Prot√©gez vos cl√©s priv√©es avec `chmod 600`
- Utilisez Let's Encrypt pour des certificats gratuits en production
- Les mises √† jour sont g√©r√©es par le syst√®me de paquets
- Aucune DLL √† distribuer avec votre application

Avec Ubuntu, vous pouvez vous concentrer sur le d√©veloppement de votre application sans vous soucier de la configuration complexe d'OpenSSL. Le syst√®me g√®re la plupart des aspects techniques pour vous.

**Section suivante** : 17.2.3 Alternatives (LLDB, FpDebug) ou autres sections du chapitre 17.

‚è≠Ô∏è [Authentification et OAuth 2.0](/17-securite-cryptographie/03-authentification-oauth2.md)
